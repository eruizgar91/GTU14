<!DOCTYPE html>
<html lang="es"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>
        <meta charset="UTF-8"/>
        <meta http-equiv="Content-type" content="text/html; charset=UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <title>Formulario administrador</title>
        <!-- BootStrap -->
        <link rel="stylesheet" href="css/bootstrap.min.css"/>
        <script src="js/jquery-2.1.0.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
    </h:head>
    <h:body>
        <div class="container-fluid">
            <div class="page-header text-center">
                <h1>Formulario de administrador</h1>
                <h:outputLink action="#{accessControlModel.logout}">[Cerrar Sesión]</h:outputLink>
            </div>
            <div class="row center-block">
                <div class="col-xs-12 col-md-3 col-md-offset-2">
                    <div class="page-header">
                        <h3>Alta de usuarios</h3>
                    </div>
                    <h:form p:method="post">
                        <input type="hidden" name="_method" value="POST"/>
                        <div class="form-group">
                            <label for="username">Nombre de usuario*</label>
                            <h:inputText class="form-control" id="username" value="#{userModel.user.username}" p:placeholder="Escribe el nombre de usuario" required="true" requiredMessage="Es necesario el nombre de usuario."/>
                            <label for="firstname">Nombre</label>
                            <h:inputText class="form-control" id="firstname" value="#{userModel.user.firstname}" p:placeholder="Escribe el nombre" required="false"/>
                            <label for="lastname">Apellidos</label>
                            <h:inputText class="form-control" id="lastname" value="#{userModel.user.lastname}" p:placeholder="Escribe tus apellidos" required="false"/>
                            <label for="cif">CIF (vacío para admins)</label>
                            <h:inputText class="form-control" id="cif" value="#{userModel.user.cif}" p:placeholder="Escribe el cif de la empresa" required="false"/>
                            <label for="email">Correo electrónico</label>
                            <h:inputText p:type="email" class="form-control" id="email" value="#{userModel.user.email}" p:placeholder="Escribe el correo electrónico" required="false"/>
                            <label for="password">Contraseña*</label>
                            <h:inputSecret class="form-control" id="password" value="#{userModel.user.password}" p:placeholder="Escribe la contraseña" required="true" requiredMessage="Es necesaria la contraseña del usuario."/>
                            <label for="telephone">Teléfono</label>
                            <h:inputText class="form-control" id="telephone" value="#{userModel.user.telephone}" p:placeholder="Escribe un teléfono de contacto" required="false"/>
                            <h:selectBooleanCheckbox value="#{userModel.user.admin}" /> Administrador
                        </div>
                        <div class="form-group text-left">
                            <h:commandButton type="submit" value="Nuevo usuario" action="#{userModel.submitUser}" class="btn btn-default btn-lg"/>
                            <a> </a>
                            <h:outputLabel binding="#{userModel.createUserMsg}" for="submit" value="" rendered="false" />
                            <br/>
                           	<h:message class="text-right" for="password"/>
                           	<br/>
                           	<h:message class="text-right" for="username"/>
                        </div>
                    </h:form>
                </div>
                <hr class="visible-xs"/>
                <div class="col-xs-12 col-md-3 col-md-offset-2">
                    <div class="page-header">
                        <h3>Alta de entidades</h3>
                    </div>
                    <h:form p:method="post">
                        <input type="hidden" name="_method" value="POST"/>
                        <div class="form-group">
                            <label for="entityname">Nombre de entidad*</label>
                            <h:inputText class="form-control" id="entityname" value="#{entityModel.entityname}" p:placeholder="Escribe el nombre de usuario" required="true" requiredMessage="Es necesario el nombre de la entidad."/>
                            <label for="name">Nombre</label>
                            <h:inputText class="form-control" id="name" value="#{entityModel.name}" p:placeholder="Escribe el nombre" required="false"/>
                            <label for="cif">CIF*</label>
                            <h:inputText class="form-control" id="cif" value="#{entityModel.cif}" p:placeholder="Escribe el cif de la entidad" required="true"/>
                            <label for="associatedCif">CIF de la entidad asociada*</label>
                            <h:inputText class="form-control" id="associatedCif" value="#{entityModel.associatedCif}" p:placeholder="Escribe el cif de la entidad con la que trabaja" required="false"/>
                            <label for="email">Correo electrónico</label>
                            <h:inputText p:type="email" class="form-control" id="email" value="#{entityModel.email}" p:placeholder="Escribe el correo electrónico" required="false"/>
                            <label for="password">Contraseña*</label>
                            <h:inputSecret class="form-control" id="password" value="#{entityModel.password}" p:placeholder="Escribe la contraseña" required="true" requiredMessage="Es necesaria la contraseña del usuario."/>
                            <label for="address">Dirección</label>
                            <h:inputText class="form-control" id="address" value="#{entityModel.address}" p:placeholder="Escribe una dirección" required="false"/>
                            <label for="telephone">Teléfono</label>
                            <h:inputText class="form-control" id="telephone" value="#{entityModel.telephone}" p:placeholder="Escribe un teléfono de contacto" required="false"/>
                            <label for="entityRole">Dar de alta entidad como</label>
                            <h:selectOneListbox id="entityRole" size="3" class="form-control" required="true" value="#{entityModel.entityRole}">
							   	<f:selectItem itemValue="UNIVERSITY" itemLabel="Universidad" />
							   	<f:selectItem itemValue="BANK" itemLabel="Banco" />
							   	<f:selectItem itemValue="STAMPING" itemLabel="Estampadora" />
							</h:selectOneListbox>
                        </div>
                        <div class="form-group text-left">
                            <h:commandButton type="submit" value="Nueva entidad" action="#{entityModel.submitEntity}" class="btn btn-default btn-lg"/>
                            <a> </a>
                            <h:outputLabel binding="#{entityModel.createEntityMsg}" for="submit" value="" rendered="false" />
                            <br/>
                           	<h:message class="text-right" for="password"/>
                           	<br/>
                           	<h:message class="text-right" for="entityname"/>
                        </div>
                    </h:form>
                </div>
                <hr class="visible-xs"/>
                <div class="col-xs-12 col-md-3 col-md-offset-2">
                    <div class="page-header">
                        <h3>Baja de usuarios</h3>
                    </div>
                    <h:form p:method="post">
                        <input type="hidden" name="_method" value="DELETE"/>
                        <div class="form-group">
                            <label for="username">Nombre de usuario</label>
                            <h:inputText class="form-control" id="username" value="#{userModel.user.username}" p:placeholder="Escribe el nombre de usuario" required="true" requiredMessage="Es necesario el nombre de usuario."/>
                        </div>
                        <div class="form-group text-right">
                        	<h:outputLabel binding="#{userModel.deleteUserMsg}" for="submit" value="" rendered="false" /><a> </a>
                            <h:commandButton type="submit" value="Eliminar usuario" action="#{userModel.deleteUser}" class="btn btn-danger btn-xs"/>
                            <br/>
                           	<h:message class="text-right" for="username"/>     
                        </div>
                    </h:form>
                </div>
                <hr class="visible-xs"/>
                <div class="col-xs-12 col-md-3 col-md-offset-2">
                    <div class="page-header">
                        <h3>Baja de entidades</h3>
                    </div>
                    <h:form p:method="post">
                        <input type="hidden" name="_method" value="DELETE"/>
                        <div class="form-group">
                            <label for="entityCif">CIF de la entidad</label>
                            <h:inputText class="form-control" id="entityCif" value="#{entityModel.cif}" p:placeholder="Escribe el CIF de la entidad" required="true" requiredMessage="Es necesario el CIF de la entidad."/>
                        </div>
                        <div class="form-group text-right">
                            <h:outputLabel binding="#{entityModel.deleteEntityMsg}" for="submit" value="" rendered="false" />
                            <a> </a>
                            <h:commandButton type="submit" value="Eliminar entidad" action="#{entityModel.deleteEntity}" class="btn btn-danger btn-xs"/>
                            <br/>
                           	<h:message class="text-right" for="entityCif"/>
                        </div>
                    </h:form>
                </div>
            </div>
        </div>
    </h:body>
</html>
